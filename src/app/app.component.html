<div class="container">
  <header class="header">
    <h1>{{title}}</h1>
    <div class="controls">
      <button class="btn btn-primary" (click)="loadMfe('user')" [disabled]="isDisableMFELoad" [ngStyle]="!isDisableMFELoad ? {'cursor' : 'pointer'} : {'cursor' : 'default', 'opacity': '0.5', 'pointer-events': 'none'}">
        Load User Management MFE 
      </button>
      <button (click)="sendMessageToMFE()" class="btn btn-primary" [disabled]="isSendMessageToMFE" [ngStyle]="isDisableMFELoad ? {'cursor' : 'pointer'} : {'opacity': '0.5', 'pointer-events': 'none'}">
        Send Message to MFE
      </button>
      <select class="theme-selector" (change)="selectMFEApp($any($event.target).value)" [disabled]="isSendMessageToMFE">
        <option value="user">Please Select MFE</option>
        <option value="user">User</option>
        <option value="test">Test</option>
      </select>
      <select (change)="updateTheme($any($event.target).value)" class="theme-selector" [disabled]="isSendMessageToMFE">
        <option value="light">Light Theme</option>
        <option value="dark">Dark Theme</option>
      </select>
    </div>
  </header>

  <main class="main-content">
    <section class="mfe-section">
      <h2>Micro Frontend Components</h2>
      
      <!-- MFE Component 1 - User Management -->

     <!-- <div class="mfe-container">
      <div #mfeContainer style="min-height: 150px;"></div>
    </div> -->

    <div class="mfe-container">
       <div style="min-height: 150px;">
         <first-management-mfe></first-management-mfe>
       </div>
    </div>

    <div class="mfe-container">
       <div style="min-height: 150px;">
        <second-management-mfe></second-management-mfe>
       </div>
    </div>
      

    
    </section>

    <aside class="message-log">
      <h3>Message Bus Log</h3>
      <button (click)="clearMessages()" class="btn btn-secondary">Clear</button>
      <div class="messages">
        <div *ngFor="let message of messages" class="message" [ngClass]="'from-' + message.source">
          <div class="message-header">
            <span class="message-type">{{message.type}}</span>
            <span class="message-source">from {{message.source}}</span>
            <span class="message-time">{{message.timeString}}</span>
          </div>
          <div class="message-payload">{{message.payload | json}}</div>
        </div>
      </div>
    </aside>
  </main>
</div>